---
layout: post
title: US Food Analysis
subtitle: Testing Jupyter Notebook to Markdown
category: Project
cover-img: /assets/img/cropbanner.jpg
thumbnail-img: /assets/img/USDAthumbnail.jpg
share-img: /assets/img/cropbanner.jpg
gh-repo: DovarFalcone/usfood
gh-badge: [star, fork, follow]
tags: [test]
comments: true
---

I executed the command `jupyter nbconvert --to markdown notebook.ipynb` in order to perform a conversion of a Jupyter Notebook file to the Markdown format. The output of this command, in the form of a Markdown document, was subsequently transferred to the desired location through the use of copy-paste functionality.

```python
import pyodbc
import pandas as pd
import os
import json
import yaml
```


```python
with open('creds.yaml', 'r') as file:
   creds = yaml.safe_load(file)
```


```python
server = creds['usfoodcon']['server'] 
database = creds['usfoodcon']['database'] 
username = creds['usfoodcon']['username'] 
password = creds['usfoodcon']['password']  
cnxn = pyodbc.connect('DRIVER={PostgreSQL Unicode};SERVER='+server+';DATABASE='+database+';UID='+username+';PWD='+ password)
cursor = cnxn.cursor()
```


```python

# select 5 rows from SQL table to insert in dataframe.
query = '''SELECT "Country"
, "Commodity"
, "UOM"
, "Category"
, "FoodValue"
, "FoodValue" * 1000000 as "DollarValue"
, "YearNum"

FROM us_food_imports
where "Country" NOT IN (
	'REST OF WORLD',
	'WORLD (Quantity)',
	'WORLD'	
)
and (
	"Category" ILIKE 'Meats'
	or "Category" ILIKE 'Animals'
)
and "YearNum" = 2021
order by "Country"
;
'''
```


```python
df = pd.read_sql(query, cnxn)
print(df.head(5))
```

                 Country                          Commodity        UOM Category  FoodValue   DollarValue  YearNum  
    0          AUSTRALIA         Frozen red meats and parts  Million $    Meats      650.4  6.504000e+08     2021 
    1          AUSTRALIA         Fresh or chilled red meats  Million $    Meats      649.3  6.493000e+08     2021 
    2          AUSTRALIA  Total red meats, fresh and frozen  Million $    Meats     2304.1  2.304100e+09     2021 
    3             BRAZIL  Total red meats, fresh and frozen  Million $    Meats      365.0  3.650000e+08     2021 
    4             BRAZIL                     Prepared meats  Million $    Meats      496.2  4.962000e+08     2021 


```python
cursor.close()
cnxn.close()  
```
